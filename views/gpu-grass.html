<!DOCTYPE html>
<html lang="en">

<head>
  <title>Daniel Pascual - Technical Art</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="../assets/css/main.css" />
  <style>
    .image.main img,
    .image.main video {
      margin: 10px auto;
      display: block;
      width: 70%;
      height: auto;
    }

    .highlight-link {
      color: #14006e;
      font-weight: bold;
    }

    #detailed-contributions {
      text-align: center;
      margin-top: 60px;
    }

    .carousel-container {
      position: relative;
      max-width: 800px;
      margin: 0 auto;
      overflow: hidden;
      background: #f9f9f9;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      padding: 20px;
    }

    .carousel {
      display: flex;
      transition: transform 0.5s ease;
    }

    .carousel-item {
      min-width: 100%;
      box-sizing: border-box;
      padding: 10px;
      display: none;
      flex-direction: column;
      align-items: center;
    }

    .carousel-item.active {
      display: flex;
    }

    .carousel-item video,
    .carousel-item img {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
      margin-bottom: 15px;
    }

    .carousel-item h4 {
      margin: 10px 0 5px;
      color: #333;
      font-weight: 600;
    }

    .carousel-item p {
      color: #555;
      font-size: 1em;
      line-height: 1.4em;
    }

    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #14006e;
      border: none;
      color: white;
      font-size: 24px;
      padding: 10px 15px;
      cursor: pointer;
      border-radius: 50%;
      transition: background 0.3s;
    }

    .carousel-btn:hover {
      background: #fd7c03;
    }

    .carousel-btn.prev {
      left: 15px;
    }

    .carousel-btn.next {
      right: 15px;
    }
  </style>
</head>

<body class="is-preload">

  <!-- Header -->
  <div id="header">
    <div class="top">

      <!-- Logo -->
      <div id="logo">
        <span class="image avatar48"><img src="../images/lipinpato.png" alt="my image" /></span>
        <h1 id="title">Daniel Pascual</h1>
        <p>Software Engineer / Technical Artist</p>
      </div>

      <!-- Nav -->
      <nav id="nav">
        <ul>
          <li><a href="#top" id="top-link"><span class="icon solid fa-home">Intro</span></a></li>
          <li><a href="../index.html" id="portfolio-link"><span class="icon solid fa-th">Portfolio</span></a></li>
          <li><a href="#" id="project-link"><span class="icon solid fa-code">This Project</span></a></li>
        </ul>
      </nav>
    </div>

    <div class="bottom">
      <ul class="icons">
        <li><a href="https://x.com/KillPotatos" class="icon brands fa-twitter"><span class="label">Twitter</span></a>
        </li>
        <li><a href="https://paxcu.itch.io" class="fa-brands fa-itch-io"><span class="label">Itch io</span></a></li>
        <li><a href="https://github.com/PascualDaniel" class="icon brands fa-github"><span
              class="label">Github</span></a></li>
        <li><a href="www.linkedin.com/in/daniel-pascual-lopez-600170254" class="icon brands fa-linkedin"><span
              class="label">LinkedIn</span></a></li>
        <li><a href="mailto:danielpascuallopez@hotmail.com" class="icon solid fa-envelope"><span
              class="label">Email</span></a></li>
      </ul>
    </div>
  </div>

  <!-- Main -->
  <div id="main">

    <section id="top" class="one dark cover">
      <div class="container">
        <header>
          <h2 class="alt"><strong>GPU Grass Renderer WIP</strong></h2>
        </header>
      </div>
    </section>

    <section class="post">
      <header>
        <h2>GPU Grass Renderer – Real-Time 3D Grass Rendering WIP</h2>
      </header>

      <p>
        The <strong>GPU Grass Renderer</strong> is a real-time vegetation rendering system that generates, animates,
        and renders thousands of 3D grass meshes directly on the GPU.
        Unlike traditional billboard approaches, this version uses <strong>real geometry</strong> for each grass clump,
        allowing close-up detail and realistic interaction with lighting.
      </p>

      <p>
        The renderer divides the terrain into GPU-driven <strong>chunks</strong>, each processed independently by
        compute shaders. These shaders sample height and splat maps to place instances procedurally across the surface.
        Each grass mesh is then drawn using <strong>indirect instancing</strong>, ensuring minimal CPU overhead even
        with millions of blades rendered simultaneously.
      </p>

      <h3>Key Technical Features:</h3>
      <div class="project-list">
        <ul>
          <li>Procedural grass placement via GPU compute shaders.</li>
          <li>3D grass meshes rendered using <strong>DrawMeshInstancedIndirect</strong>.</li>
          <li>Chunk-based generation and GPU bounds for efficient culling.</li>
          <li>Sampling from terrain heightmaps and splatmaps for accurate placement.</li>
          <li>Procedural wind animation and per-instance randomization in the vertex shader. TODO</li>
          <li>Full GPU pipeline: no CPU-driven instancing or per-frame mesh updates.</li>
        </ul>
      </div>

      <!-- Carousel -->
      <section id="detailed-contributions">
        <h3>Technical Showcase</h3>
        <div class="carousel-container">
          <div class="carousel">
            <div class="carousel-item active">
              <video src="../images/grass/Movie_002.mp4" autoplay loop muted playsinline></video>
              <h4>Full GPU Model-Based Grass Renderer</h4>
              <p>Thousands of real 3D grass meshes rendered fully on the GPU, distributed across terrain chunks.</p>
            </div>

            <div class="carousel-item">
              <img src="../images/grass/Camera.png" alt="Chunk Bounds" />
              <img src="../images/grass/Chuncks3.png" alt="Chunk Bounds" />
              <h4>Chunk-Based Distribution</h4>
              <p>Each terrain section is a GPU-generated chunk, enabling spatial culling and efficient streaming.</p>
            </div>

            <div class="carousel-item">
              <img src="../images/grass/compute_shader_model.png" alt="Compute Shader" />
              <h4>Compute Shader Placement</h4>
              <p>Procedural generation of grass positions based on height and splat maps, computed entirely on the GPU.
              </p>
            </div>

            <div class="carousel-item">
              <img src="../images/grass/Viento7.mp4" alt="Wind Animation Shader" />
              <h4>Procedural Wind Animation</h4>
              <p>Per-instance vertex deformation simulating wind sway, using trigonometric motion and noise variation.
              </p>
            </div>

          
          </div>

          <button class="carousel-btn prev">⟨</button>
          <button class="carousel-btn next">⟩</button>
        </div>
      </section>

      <h3>What I Learned:</h3>
      <div class="project-list">
        <ul>
          <li>Integration of compute shaders with Unity’s graphics pipeline.</li>
          <li>Efficient indirect instancing and draw call batching.</li>
          <li>Handling terrain-based data entirely on GPU memory.</li>
          <li>Balancing realism and performance for large-scale procedural rendering.</li>
        </ul>
      </div>
    </section>

    <h3>References & Credits</h3>
    <ul>
      <li>
        Inspired by <a href="https://www.youtube.com/watch?v=Ibe1JBF5i5Y" target="_blank">
          "Procedural Grass in 'Ghost of Tsushima'" – GDC Talk
        </a>
      </li>
      <li>
        Height and splat map sampling based on Unity TerrainData systems.
      </li>
    </ul>
  </div>

  <!-- Footer -->
  <div id="footer">
    <ul class="copyright">
      <li>&copy; Daniel Pascual Portfolio. All rights reserved.</li>
      <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
    </ul>
  </div>

  <!-- Scripts -->
  <script src="../assets/js/jquery.scrolly.min.js"></script>
  <script src="../assets/js/jquery.scrollex.min.js"></script>
  <script src="../assets/js/browser.min.js"></script>
  <script src="../assets/js/breakpoints.min.js"></script>
  <script src="../assets/js/util.js"></script>
  <script src="../assets/js/main.js"></script>
  <script>
    const items = document.querySelectorAll('.carousel-item');
    const nextBtn = document.querySelector('.carousel-btn.next');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    let current = 0;

    function showItem(index) {
      items.forEach((item, i) => {
        item.classList.remove('active');
        if (i === index) item.classList.add('active');
      });
    }

    nextBtn.addEventListener('click', () => {
      current = (current + 1) % items.length;
      showItem(current);
    });

    prevBtn.addEventListener('click', () => {
      current = (current - 1 + items.length) % items.length;
      showItem(current);
    });

    showItem(current);
  </script>
</body>

</html>